{"id":"index.html","dependencies":[{"name":"./web3.min.js","dynamic":true,"resolved":"D:\\Development\\Peet\\peetpay-sol\\test\\web3.min.js","parent":"D:\\Development\\Peet\\peetpay-sol\\test\\index.html"},{"name":"D:\\Development\\Peet\\peetpay-sol\\package.json","includedInParent":true,"mtime":1606117975382}],"generated":{"html":"<html>\r\n\r\n<head>\r\n    <script src=\"/205464e310114f168efc411536b8356b.js\"></script>\r\n</head>\r\n\r\n<body>\r\n    <input type=\"button\" value=\"Allow\" onclick=\"javascript: approveTx();\">\r\n    <input type=\"button\" value=\"Withdraw\" onclick=\"javascript: withdrawTest();\">\r\n\r\n    <script>function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var PeetPayContract, WETHContractAddr, wetheabi, web3, wethContract, peetPayContract, approveTx, testPaypeet, withdrawTest;\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return window.ethereum.enable();\n\n        case 2:\n          PeetPayContract = '0xaD7A177296DCF8b9e3B220aDAD5074F64f3A5D86';\n          WETHContractAddr = '0xc778417E063141139Fce010982780140Aa0cD5Ab';\n          wetheabi = [{\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"name\",\n            \"outputs\": [{\n              \"name\": \"\",\n              \"type\": \"string\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          }, {\n            \"constant\": false,\n            \"inputs\": [{\n              \"name\": \"_spender\",\n              \"type\": \"address\"\n            }, {\n              \"name\": \"_value\",\n              \"type\": \"uint256\"\n            }],\n            \"name\": \"approve\",\n            \"outputs\": [{\n              \"name\": \"\",\n              \"type\": \"bool\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          }, {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"totalSupply\",\n            \"outputs\": [{\n              \"name\": \"\",\n              \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          }, {\n            \"constant\": false,\n            \"inputs\": [{\n              \"name\": \"_from\",\n              \"type\": \"address\"\n            }, {\n              \"name\": \"_to\",\n              \"type\": \"address\"\n            }, {\n              \"name\": \"_value\",\n              \"type\": \"uint256\"\n            }],\n            \"name\": \"transferFrom\",\n            \"outputs\": [{\n              \"name\": \"\",\n              \"type\": \"bool\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          }, {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"decimals\",\n            \"outputs\": [{\n              \"name\": \"\",\n              \"type\": \"uint8\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          }, {\n            \"constant\": true,\n            \"inputs\": [{\n              \"name\": \"_owner\",\n              \"type\": \"address\"\n            }],\n            \"name\": \"balanceOf\",\n            \"outputs\": [{\n              \"name\": \"balance\",\n              \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          }, {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"symbol\",\n            \"outputs\": [{\n              \"name\": \"\",\n              \"type\": \"string\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          }, {\n            \"constant\": false,\n            \"inputs\": [{\n              \"name\": \"_to\",\n              \"type\": \"address\"\n            }, {\n              \"name\": \"_value\",\n              \"type\": \"uint256\"\n            }],\n            \"name\": \"transfer\",\n            \"outputs\": [{\n              \"name\": \"\",\n              \"type\": \"bool\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          }, {\n            \"constant\": true,\n            \"inputs\": [{\n              \"name\": \"_owner\",\n              \"type\": \"address\"\n            }, {\n              \"name\": \"_spender\",\n              \"type\": \"address\"\n            }],\n            \"name\": \"allowance\",\n            \"outputs\": [{\n              \"name\": \"\",\n              \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          }, {\n            \"payable\": true,\n            \"stateMutability\": \"payable\",\n            \"type\": \"fallback\"\n          }, {\n            \"anonymous\": false,\n            \"inputs\": [{\n              \"indexed\": true,\n              \"name\": \"owner\",\n              \"type\": \"address\"\n            }, {\n              \"indexed\": true,\n              \"name\": \"spender\",\n              \"type\": \"address\"\n            }, {\n              \"indexed\": false,\n              \"name\": \"value\",\n              \"type\": \"uint256\"\n            }],\n            \"name\": \"Approval\",\n            \"type\": \"event\"\n          }, {\n            \"anonymous\": false,\n            \"inputs\": [{\n              \"indexed\": true,\n              \"name\": \"from\",\n              \"type\": \"address\"\n            }, {\n              \"indexed\": true,\n              \"name\": \"to\",\n              \"type\": \"address\"\n            }, {\n              \"indexed\": false,\n              \"name\": \"value\",\n              \"type\": \"uint256\"\n            }],\n            \"name\": \"Transfer\",\n            \"type\": \"event\"\n          }];\n          web3 = new Web3(window.ethereum);\n          wethContract = web3.eth.contract(wetheabi);\n          peetPayContract = web3.eth.contract([{\n            \"inputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"constructor\"\n          }, {\n            \"anonymous\": false,\n            \"inputs\": [{\n              \"indexed\": true,\n              \"internalType\": \"address\",\n              \"name\": \"_from\",\n              \"type\": \"address\"\n            }, {\n              \"indexed\": false,\n              \"internalType\": \"uint256\",\n              \"name\": \"deposit\",\n              \"type\": \"uint256\"\n            }, {\n              \"indexed\": false,\n              \"internalType\": \"uint256\",\n              \"name\": \"_value\",\n              \"type\": \"uint256\"\n            }, {\n              \"indexed\": false,\n              \"internalType\": \"uint256\",\n              \"name\": \"currentBonus\",\n              \"type\": \"uint256\"\n            }],\n            \"name\": \"PriceEstimated\",\n            \"type\": \"event\"\n          }, {\n            \"inputs\": [],\n            \"name\": \"uniswapRouter\",\n            \"outputs\": [{\n              \"internalType\": \"contract IUniswapV2Router02\",\n              \"name\": \"\",\n              \"type\": \"address\"\n            }],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"constant\": true\n          }, {\n            \"inputs\": [{\n              \"internalType\": \"address\",\n              \"name\": \"withdrawWallet\",\n              \"type\": \"address\"\n            }],\n            \"name\": \"withdraw\",\n            \"outputs\": [],\n            \"stateMutability\": \"payable\",\n            \"type\": \"function\",\n            \"payable\": true\n          }, {\n            \"inputs\": [{\n              \"internalType\": \"address\",\n              \"name\": \"withdrawWallet\",\n              \"type\": \"address\"\n            }, {\n              \"internalType\": \"address\",\n              \"name\": \"tokenAddr\",\n              \"type\": \"address\"\n            }],\n            \"name\": \"withdrawSpecificToken\",\n            \"outputs\": [],\n            \"stateMutability\": \"payable\",\n            \"type\": \"function\",\n            \"payable\": true\n          }, {\n            \"inputs\": [{\n              \"internalType\": \"uint256\",\n              \"name\": \"_amount\",\n              \"type\": \"uint256\"\n            }],\n            \"name\": \"transferToken\",\n            \"outputs\": [],\n            \"stateMutability\": \"payable\",\n            \"type\": \"function\",\n            \"payable\": true\n          }, {\n            \"inputs\": [],\n            \"name\": \"getCurrentSaleBonus\",\n            \"outputs\": [{\n              \"internalType\": \"uint256\",\n              \"name\": \"bonusPercent\",\n              \"type\": \"uint256\"\n            }],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"constant\": true\n          }]);\n\n          approveTx = /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n              var tokenContractInstance;\n              return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      tokenContractInstance = wethContract.at(WETHContractAddr);\n                      console.log(tokenContractInstance.events);\n                      web3.eth.getAccounts( /*#__PURE__*/function () {\n                        var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(error, accounts) {\n                          var amount;\n                          return regeneratorRuntime.wrap(function _callee$(_context) {\n                            while (1) {\n                              switch (_context.prev = _context.next) {\n                                case 0:\n                                  // Send ERC20 transaction with web3\n                                  console.log(tokenContractInstance.functions);\n                                  amount = web3.toWei(0.02, \"ether\");\n                                  tokenContractInstance.approve(PeetPayContract, amount, function () {\n                                    testPaypeet();\n                                  }); //tokenContractInstance.approve()\n\n                                case 3:\n                                case \"end\":\n                                  return _context.stop();\n                              }\n                            }\n                          }, _callee);\n                        }));\n\n                        return function (_x, _x2) {\n                          return _ref3.apply(this, arguments);\n                        };\n                      }());\n\n                    case 3:\n                    case \"end\":\n                      return _context2.stop();\n                  }\n                }\n              }, _callee2);\n            }));\n\n            return function approveTx() {\n              return _ref2.apply(this, arguments);\n            };\n          }();\n\n          window.approveTx = approveTx;\n\n          testPaypeet = /*#__PURE__*/function () {\n            var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n              var peetPayContractInstance, amount;\n              return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                while (1) {\n                  switch (_context3.prev = _context3.next) {\n                    case 0:\n                      peetPayContractInstance = peetPayContract.at(PeetPayContract);\n                      console.log(peetPayContract);\n                      amount = web3.toWei(0.02, \"ether\");\n                      peetPayContractInstance.transferToken(amount, function (err, res) {\n                        console.log(err);\n                        console.log(res);\n                      });\n\n                    case 4:\n                    case \"end\":\n                      return _context3.stop();\n                  }\n                }\n              }, _callee3);\n            }));\n\n            return function testPaypeet() {\n              return _ref4.apply(this, arguments);\n            };\n          }();\n\n          window.testPaypeet = testPaypeet;\n\n          withdrawTest = /*#__PURE__*/function () {\n            var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n              var peetPayContractInstance;\n              return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                while (1) {\n                  switch (_context5.prev = _context5.next) {\n                    case 0:\n                      peetPayContractInstance = peetPayContract.at(PeetPayContract);\n                      web3.eth.getAccounts( /*#__PURE__*/function () {\n                        var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(error, accounts) {\n                          return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                            while (1) {\n                              switch (_context4.prev = _context4.next) {\n                                case 0:\n                                  peetPayContractInstance.withdraw(accounts[0], function (err, res) {});\n\n                                case 1:\n                                case \"end\":\n                                  return _context4.stop();\n                              }\n                            }\n                          }, _callee4);\n                        }));\n\n                        return function (_x3, _x4) {\n                          return _ref6.apply(this, arguments);\n                        };\n                      }());\n\n                    case 2:\n                    case \"end\":\n                      return _context5.stop();\n                  }\n                }\n              }, _callee5);\n            }));\n\n            return function withdrawTest() {\n              return _ref5.apply(this, arguments);\n            };\n          }();\n\n          window.withdrawTest = withdrawTest;\n          window.onload = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n            return regeneratorRuntime.wrap(function _callee6$(_context6) {\n              while (1) {\n                switch (_context6.prev = _context6.next) {\n                  case 0:\n                  case \"end\":\n                    return _context6.stop();\n                }\n              }\n            }, _callee6);\n          }));\n\n        case 15:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _callee7);\n}))();</script>\r\n</body>\r\n\r\n</html>"},"sourceMaps":null,"error":null,"hash":"01f0d3e2c528ee92eca72e51d2e949bc","cacheData":{"env":{}}}